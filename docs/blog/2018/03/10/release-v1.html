<html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>v1.0.0 发布 · minapp</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="v1.0.0 发布 · minapp"/><meta property="og:type" content="website"/><meta property="og:url" content="https://qiu8310.github.io/minapp/minapp/blog/2018/03/10/release-v1.html"/><meta property="og:description" content="&gt; [minapp](https://github.com/qiu8310/minapp) 提供微信小程序开发过程中的一整套解决方案，"/><link rel="shortcut icon" href="/minapp/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://qiu8310.github.io/minapp/blog/atom.xml" title="minapp Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://qiu8310.github.io/minapp/blog/feed.xml" title="minapp Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/minapp/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/minapp/"><img class="logo" src="/minapp/img/minapp.svg"/><h2 class="headerTitle">minapp</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/minapp/docs/doc-install.html" target="_self">文档</a></li><li><a href="/minapp/docs/api-index.html" target="_self">API</a></li><li><a href="/minapp/en/help.html" target="_self">帮助</a></li><li><a href="/minapp/blog" target="_self">博客</a></li><li><a href="https://github.com/qiu8310/minapp" target="_self">Github</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Recent Posts</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/minapp/blog/2018/03/10/release-v1.html">v1.0.0 发布</a></li><li class="navListItem"><a class="navItem" href="/minapp/blog/2018/03/09/redefine-3.html">重新定义小程序开发 — 编译篇</a></li><li class="navListItem"><a class="navItem" href="/minapp/blog/2018/03/05/redefine-2.html">重新定义小程序开发 — 框架篇</a></li><li class="navListItem"><a class="navItem" href="/minapp/blog/2018/03/03/redefine-1.html">重新定义小程序开发 — 补全篇</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1><a href="/minapp/blog/2018/03/10/release-v1.html">v1.0.0 发布</a></h1><p class="post-meta">March 10, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/qiu8310" target="_blank">Mora</a></p></div></header><div><span><blockquote>
<p><a href="https://github.com/qiu8310/minapp">minapp</a> 提供微信小程序开发过程中的一整套解决方案，
包括应用层框架，编译器，及在 vscode 上开发的完美体验，更多介绍可以查看 <a href="https://qiu8310.github.io/minapp">minapp 官网</a></p>
</blockquote>
<p>经过前面几个小版本的迭代， minapp 正式发布 1.0.0 版本了，新增功能如下：</p>
<!--truncate-->
<h2><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>框架更新：</h2>
<h3><a class="anchor" aria-hidden="true" name="setdata-setdatasmart"></a><a href="#setdata-setdatasmart" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>更智能的 setData 函数： setDataSmart</h3>
<p>在页面处于隐藏状态下，原生的 setData 函数也会将 data 应用到页面中，导致隐藏的页面也更新；而 setDataSmart 会自动检测当前页面状态，当页面处于隐藏状态时，会将需要更新的 data 缓存起来，等到页面处于显示状态时，再统一更新，可以优化页面性能！</p>
<p>另外，如果要使用数据双向绑定，也必须使用 setDataSmart，而不是 setData（见下条）</p>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>支持数据双向绑定</h3>
<p>只需要在模板的属性名后面加上 <code>.sync</code> ，并将 js 中的 <code>setData</code> 换成 <code>setDataSmart</code>，就可以实现双向绑定，如：</p>
<ul>
<li>wxml 模板中可以这样写</li>
</ul>
<pre><code class="hljs css html"><span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">childAttr.sync</span>=<span class="hljs-string">"parentAttr"</span> /&gt;</span>
</code></pre>
<ul>
<li>组件中只需要将 setData 换成 setDataSmart</li>
</ul>
<pre><code class="hljs css js">onLoad() {
  <span class="hljs-keyword">this</span>.setDataSmart({
    <span class="hljs-attr">childAttr</span>: <span class="hljs-string">'foo'</span>
  })
}
</code></pre>
<blockquote>
<p>实现原理查看文章 <a href="/minapp/docs/doc-how-to-realize-two-way-data-bind.html">如何在原生的小程中实现数据双向绑定</a></p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" name="mobx-mobx"></a><a href="#mobx-mobx" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>mobx 不再是必须的，可以选择不使用 mobx</h3>
<p>上一版本中框架和 mobx 融合在一起了，有不少人提出不用 mobx 该怎么做。所以现在将 @minapp/mobx 拆分了，将原来的系统结构放到了 @minapp/core 中，@minapp/mobx 专门负责将 mobx 集成到 @minapp/core 中。如此，以后也有可能提供更多的状态管理组件！</p>
<p>所以现在 @minapp/core 可以有如下三种用途：</p>
<ol>
<li>只需要 <code>wx</code> API 的自动补全：<strong>只需要将文件 <code>@minapp/core/typing/wx.d.ts</code> 包含在你的项目中</strong></li>
</ol>
<ul>
<li>可以通过 reference 引用
<pre><code class="hljs css ts"><span class="hljs-comment">/// &lt;reference path="path/to/@minapp/core/typing/wx.d.ts" /&gt;</span>
</code></pre></li>
<li>也可以在你的 jsconfig.json 或 tsconfig.json 文件中 include 此文件</li>
</ul>
<ol start="2">
<li>需要 <code>wx</code> 和 <code>wxp</code> API 的自动补全，但不想要 minapp 提供的框架：<strong>import wxp 模块即可</strong></li>
</ol>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> {wxp} <span class="hljs-keyword">from</span> <span class="hljs-string">'@minapp/core/wxp'</span> <span class="hljs-comment">// 注意后面要加上 wxp</span>
</code></pre>
<ol start="3">
<li>需要 minapp 的框架：<strong>import 整个项目即可，里面含有所有你需要的函数</strong></li>
</ol>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> {wxp, BasePage, BaseComponent <span class="hljs-comment">/* ... */</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@minapp/core'</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>全新的组件开发模式</h3>
<p>除了创建小程序应用之外，现在可以创建单个小程序的组件，并且可以将其发布在 npm 上，
在小程序应用中可以直接安装并引用它，并且，自定义组件在最新的 minapp-vscode 插件中可以智能提醒！</p>
<ul>
<li>使用 npm 组件示例
<img src="https://n1image.hjfile.cn/res7/2018/03/10/529345bced8586473891d256f1c710be.gif" alt="component-develop"></li>
</ul>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>样式语言也支持自定义</h3>
<p>上一版本中默认只会生成 scss 样式文件，现在支持自定义样式语言，
支持的样式有：scss、less、css、wxss。</p>
<h3><a class="anchor" aria-hidden="true" name="minappjson"></a><a href="#minappjson" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>增加配置文件 minapp.json</h3>
<p>目前只暴露了极少的配置选项在配置文件中，后续考虑添加更多配置。</p>
<p>另外在组件开发模式下，此配置文件是必须的，需要在配置文件中指定组件所在的路径；
非组件开发模式下可以不用此配置文件，系统都有默认的选项。</p>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>官方接口更新</h3>
<p>在最近的<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/uplog.html#20180307-%E5%9F%BA%E7%A1%80%E5%BA%93%E6%9B%B4%E6%96%B0-1992">官方更新</a>中，更新了一大批 api 和 组件，所以 minapp 的 <a href="https://github.com/qiu8310/minapp/blob/master/packages/minapp-generator/gen/api/wx.d.ts">wx.d.ts</a>、 <a href="https://github.com/qiu8310/minapp/blob/master/packages/minapp-generator/gen/api/wxp.d.ts">wxp.d.ts</a> 和 <a href="https://github.com/qiu8310/minapp/blob/master/packages/minapp-generator/gen/tpl/components.json">components.json</a> 也对应更新了</p>
<h2><a class="anchor" aria-hidden="true" name="minapp-vscode-https-marketplacevisualstudiocom-itemsitemname-qiu8310minapp-vscode"></a><a href="#minapp-vscode-https-marketplacevisualstudiocom-itemsitemname-qiu8310minapp-vscode" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>minapp-vscode 插件更新：(<a href="https://marketplace.visualstudio.com/items?itemName=qiu8310.minapp-vscode">下载地址</a>)</h2>
<p>上一版本已经实现了官方组件名称和所有组件属性的自动补全，如今，又带来了更多改善开发体验的功能：</p>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>属性值也可以自动补全了</h3>
<p><img src="https://n1image.hjfile.cn/res7/2018/03/10/aaba780a36f1de1b87687295bc6fc922.gif" alt="示例图片"></p>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>根据已有属性，自动筛选出对应支持的属性集合</h3>
<ul>
<li>当 picker 的 mode=&quot;selector&quot; 时，有 <code>range</code> 和 <code>range-key</code> 的属性</li>
<li>当 picker 的 mode=&quot;time&quot; 时，有 <code>start</code> 和 <code>end</code> 的属性</li>
<li>...</li>
</ul>
<p><img src="https://n1image.hjfile.cn/res7/2018/03/09/5c5704b51a37df84b5c6663d29a545f6.gif" alt="示例图片"></p>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>自定义组件自动补全</h3>
<ul>
<li>自动获取对应 json 文件中的组件信息</li>
<li>优先提示自定义组件</li>
<li>自动获取组件中属性的描述</li>
</ul>
<p><img src="https://n1image.hjfile.cn/res7/2018/03/09/fce0b3e9496cae95c1c81523725a1fef.gif" alt="示例图片"></p>
</span></div></div></div><div class="blog-recent"><a class="button" href="/minapp/blog">Recent Posts</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/minapp/" class="nav-home"><img src="/minapp/img/minapp-transparent.svg" alt="minapp" width="66" height="58"/></a><div><h5>文档</h5><a href="/minapp/docs/guide-install.html">快速开始</a><a href="/minapp/docs/basic-wepy.html">和 wepy 框架有什么异同</a><a href="/minapp/docs/api-app.html">API 文档</a></div><div style="display:none;"><h5>Community</h5><a href="/minapp/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/" target="_blank">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank">Twitter</a></div><div><h5>更多</h5><a href="/minapp/blog">博客</a><a href="https://github.com/">GitHub</a><a class="github-button" href="https://github.com/qiu8310/minapp" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2020 Mora &lt;qiuzhongleiabc@126.com&gt;</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: 'ad598e670d42575d2c914e7cdc1e6711',
                indexName: 'minapp',
                inputSelector: '#search_input_react'
              });
            </script></body></html>